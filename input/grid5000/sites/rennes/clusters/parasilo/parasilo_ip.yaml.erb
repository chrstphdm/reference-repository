nodes:
<% (1..28).each { |i| %>
  parasilo-<%= i %>:
    network_adapters:
      eth0: 
        mounted: true
        ip: 172.16.97.<%= i %>
        mac: <%= %w(
                    ec:f4:bb:d0:f9:d8
                    ec:f4:bb:d0:f8:50
                    ec:f4:bb:d0:f3:18
                    ec:f4:bb:d1:02:88
                    ec:f4:bb:d1:02:60
                    ec:f4:bb:d1:00:70
                    ec:f4:bb:d0:fc:38
                    ec:f4:bb:d0:f2:48
                    ec:f4:bb:d0:f0:b8
                    ec:f4:bb:d0:f7:48
                    ec:f4:bb:d0:f7:10
                    ec:f4:bb:d0:f1:48
                    ec:f4:bb:d0:f5:f8
                    ec:f4:bb:d1:05:90
                    ec:f4:bb:d0:25:90
                    ec:f4:bb:d6:10:38
                    ec:f4:bb:d1:01:b8
                    ec:f4:bb:d1:11:c8
                    ec:f4:bb:d1:24:88
                    ec:f4:bb:d0:fd:30
                    ec:f4:bb:d0:ff:f8
                    ec:f4:bb:d1:00:60
                    ec:f4:bb:d1:0e:60
                    ec:f4:bb:d1:10:18
                    ec:f4:bb:d1:0d:d8
                    ec:f4:bb:d1:26:08
                    ec:f4:bb:d0:fb:e8
                    ec:f4:bb:d1:04:38
                   )[i-1] %>
      bmc:
        ip: 172.17.97.<%= i %>
        mac: <%= %w(
                    b8:2a:72:fc:f8:52
                    b8:2a:72:fc:f4:7c
                    b8:2a:72:fc:f3:58
                    b8:2a:72:fc:f5:72
                    b8:2a:72:fc:f4:ee
                    b8:2a:72:fc:f5:78
                    b8:2a:72:fc:f8:72
                    b8:2a:72:fc:f8:78
                    b8:2a:72:fc:e9:28
                    b8:2a:72:fc:f8:54
                    b8:2a:72:fc:f3:f6
                    b8:2a:72:fc:ec:be
                    b8:2a:72:fc:f5:82
                    b8:2a:72:fc:dc:f4
                    b8:2a:72:fc:f3:9c
                    74:e6:e2:fa:f3:06
                    b8:2a:72:fc:f5:6c
                    b8:2a:72:fc:e2:62
                    b8:2a:72:fc:f5:86
                    b8:2a:72:fc:f8:be
                    b8:2a:72:fc:f3:2c
                    b8:2a:72:fc:f5:90
                    b8:2a:72:fc:e2:ca
                    b8:2a:72:fc:f3:5e
                    b8:2a:72:fc:f8:dc
                    b8:2a:72:fc:eb:fe
                    b8:2a:72:fc:f5:4c
                    b8:2a:72:fc:f3:50
                  )[i-1] %>

    kavlan:
      eth0:
<% i125_152 = i+124%>
        kavlan-1: 192.168.204.<%= i %>
        kavlan-2: 192.168.220.<%= i %>
        kavlan-3: 192.168.236.<%= i %>
        kavlan-4: 10.24.12.<%= i %>
        kavlan-5: 10.24.76.<%= i %>
        kavlan-6: 10.24.140.<%= i %>
        kavlan-7: 10.24.204.<%= i %>
        kavlan-8: 10.25.12.<%= i %>
        kavlan-9: 10.25.76.<%= i %>
        kavlan-11: 10.7.204.<%= i125_152 %>
        kavlan-12: 10.11.204.<%= i125_152 %>
        kavlan-13: 10.15.204.<%= i125_152 %>
        kavlan-14: 10.19.204.<%= i125_152 %>
        kavlan-16: 10.27.204.<%= i125_152 %>
        kavlan-18: 10.35.204.<%= i125_152 %>
        kavlan-20: 10.43.204.<%= i125_152 %>
        kavlan-21: 10.47.204.<%= i125_152 %>
      eth1:
<% i153_180 = i+152%>
        kavlan-1: 192.168.205.<%= i %>
        kavlan-2: 192.168.221.<%= i %>
        kavlan-3: 192.168.237.<%= i %>
        kavlan-4: 10.24.13.<%= i %>
        kavlan-5: 10.24.77.<%= i %>
        kavlan-6: 10.24.141.<%= i %>
        kavlan-7: 10.24.205.<%= i %>
        kavlan-8: 10.25.13.<%= i %>
        kavlan-9: 10.25.77.<%= i %>
        kavlan-11: 10.7.204.<%= i153_180 %>
        kavlan-12: 10.11.204.<%= i153_180 %>
        kavlan-13: 10.15.204.<%= i153_180 %>
        kavlan-14: 10.19.204.<%= i153_180 %>
        kavlan-16: 10.27.204.<%= i153_180 %>
        kavlan-18: 10.35.204.<%= i153_180 %>
        kavlan-20: 10.43.204.<%= i153_180 %>
        kavlan-21: 10.47.204.<%= i153_180 %>
      eth2:
<% i181_208 = i+180%>
        kavlan-1: 192.168.206.<%= i %>
        kavlan-2: 192.168.222.<%= i %>
        kavlan-3: 192.168.238.<%= i %>
        kavlan-4: 10.24.14.<%= i %>
        kavlan-5: 10.24.78.<%= i %>
        kavlan-6: 10.24.142.<%= i %>
        kavlan-7: 10.24.206.<%= i %>
        kavlan-8: 10.25.14.<%= i %>
        kavlan-9: 10.25.78.<%= i %>
        kavlan-11: 10.7.204.<%= i181_208 %>
        kavlan-12: 10.11.204.<%= i181_208 %>
        kavlan-13: 10.15.204.<%= i181_208 %>
        kavlan-14: 10.19.204.<%= i181_208 %>
        kavlan-16: 10.27.204.<%= i181_208 %>
        kavlan-18: 10.35.204.<%= i181_208 %>
        kavlan-20: 10.43.204.<%= i181_208 %>
        kavlan-21: 10.47.204.<%= i181_208 %>
<% } %>

nodes:
<% (1..8).each { |i| %>
  grimoire-<%= i %>:
    network_interfaces:
      eth0: 
        mounted: true
        ip: 172.16.71.<%= i %>
        mac: <%= %w(
                    24:6E:96:03:0C:C8
                    24:6E:96:03:24:78
                    24:6E:96:03:20:F0
                    24:6E:96:02:A7:C8
                    24:6E:96:02:96:90
                    24:6E:96:02:A3:88
                    24:6E:96:02:A9:78
                    24:6E:96:02:A0:88
                   )[i-1] %>
      bmc:
        ip: 172.17.71.<%= i %>
        mac: <%= %w(
                   64:00:6A:C0:F1:EA
                   64:00:6A:C0:F3:0E
                   64:00:6A:C0:F2:18
                   64:00:6A:C0:F0:BA
                   64:00:6A:C0:F1:78
                   64:00:6A:C0:F1:74
                   64:00:6A:C0:F1:54
                   64:00:6A:C0:F1:24
                  )[i-1] %>

<% i166_174 = i + 165 %>
    kavlan:
      kavlan-1: 192.168.203.<%= i %>
      kavlan-2: 192.168.219.<%= i %>
      kavlan-3: 192.168.234.<%= i %>
      kavlan-4: 10.16.11.<%= i %>
      kavlan-5: 10.16.75.<%= i %>
      kavlan-6: 10.16.139.<%= i %>
      kavlan-7: 10.16.203.<%= i %>
      kavlan-8: 10.17.11.<%= i %>
      kavlan-9: 10.17.75.<%= i %>
      kavlan-11: 10.7.201.<%= i166_174 %>
      kavlan-12: 10.11.201.<%= i166_174 %>
      kavlan-13: 10.15.201.<%= i166_174 %>
      kavlan-14: 10.19.201.<%= i166_174 %>
      kavlan-16: 10.27.201.<%= i166_174 %>
      kavlan-17: 10.31.201.<%= i166_174 %>
      kavlan-18: 10.35.201.<%= i166_174 %>
      kavlan-19: 10.39.201.<%= i166_174 %>
      kavlan-20: 10.43.201.<%= i166_174 %>
      kavlan-21: 10.47.201.<%= i166_174 %>
<% } %>
